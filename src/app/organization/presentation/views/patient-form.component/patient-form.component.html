<div class="form-container">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="patient-form">
        <div class="form-grid">
            <div class="form-field">
                <label>{{ 'patient.firstName' | translate }}:</label>
                <input formControlName="firstName" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.lastName' | translate }}:</label>
                <input formControlName="lastName" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.age' | translate }}:</label>
                <input type="number" formControlName="age" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.gender' | translate }}:</label>
                <input formControlName="gender" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.weight' | translate }}:</label>
                <input type="number" formControlName="weight" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.height' | translate }}:</label>
                <input type="number" formControlName="height" class="form-input" />
            </div>

            <div class="form-field">
                <label>{{ 'patient.dni' | translate }}:</label>
                <input formControlName="dni" class="form-input" />
            </div>
    </div>
    <!-- Subida de foto -->
        <div class="photo-upload">
            <p class="upload-title"><strong>{{ 'patient.uploadPhoto' | translate }}</strong></p>
            <div class="file-drop-zone"
                 (dragover)="onDragOver($event)"
                 (dragleave)="onDragLeave($event)"
                 (drop)="onFileDrop($event)"
                 (click)="triggerFileInput()">
                <div class="drop-content">
                    <i class="paperclip-icon">📎</i>
                    <p class="drop-text">{{ 'patient.dragFile' | translate }}</p>
                </div>
                <input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput class="file-input" />
            </div>

            <div *ngIf="form.get('imageUrl')?.value" class="preview">
                <p class="preview-title">{{ 'patient.preview' | translate }}</p>
                <img [src]="form.get('imageUrl')?.value" alt="Foto del paciente" class="preview-image" />
            </div>
        </div>

        <!-- Botones -->
        <div class="form-actions">
            <button type="submit" [disabled]="form.invalid" class="save-btn">
                {{ 'patient.save' | translate }}
            </button>
            <button type="button" (click)="onCancel()" class="cancel-btn">
                {{ 'patient.cancel' | translate }}
            </button>
        </div>
    </form>
</div>
