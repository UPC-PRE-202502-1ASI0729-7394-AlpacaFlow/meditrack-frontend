<div class="form-container">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="doctor-form">
        
        <div class="form-grid">
            <div class="form-field">
                <label>{{ 'doctor.firstName' | translate }}:</label>
                <input formControlName="firstName" class="form-input" />
                <div *ngIf="form.get('firstName')?.invalid && form.get('firstName')?.touched" class="error-message">
                    {{ 'doctor.firstName' | translate }} es requerido
                </div>
            </div>

            <div class="form-field">
                <label>{{ 'doctor.lastName' | translate }}:</label>
                <input formControlName="lastName" class="form-input" />
                <div *ngIf="form.get('lastName')?.invalid && form.get('lastName')?.touched" class="error-message">
                    {{ 'doctor.lastName' | translate }} es requerido
                </div>
            </div>

            <div class="form-field">
                <label>{{ 'doctor.age' | translate }}:</label>
                <input type="number" formControlName="age" class="form-input" />
                <div *ngIf="form.get('age')?.invalid && form.get('age')?.touched" class="error-message">
                    {{ 'doctor.age' | translate }} es requerida
                </div>
            </div>

            <div class="form-field">
                <label>{{ 'doctor.specialty' | translate }}:</label>
                <input formControlName="specialty" class="form-input" />
                <div *ngIf="form.get('specialty')?.invalid && form.get('specialty')?.touched" class="error-message">
                    {{ 'doctor.specialty' | translate }} es requerida
                </div>
            </div>

            <div class="form-field">
                <label>{{ 'doctor.email' | translate }}:</label>
                <input type="email" formControlName="email" class="form-input" />
                <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched" class="error-message">
                    {{ 'doctor.email' | translate }} es requerido y debe ser vÃ¡lido
                </div>
            </div>

            <div class="form-field">
                <label>{{ 'doctor.phoneNumber' | translate }}:</label>
                <input formControlName="phoneNumber" class="form-input" />
                <div *ngIf="form.get('phoneNumber')?.invalid && form.get('phoneNumber')?.touched" class="error-message">
                    {{ 'doctor.phoneNumber' | translate }}
                </div>
            </div>
        </div>

        <!-- Subida de foto -->
        <div class="photo-upload">
            <p class="upload-title"><strong>{{ 'doctor.uploadPhoto' | translate }}</strong></p>
            <div class="file-drop-zone" 
                 (dragover)="onDragOver($event)"
                 (dragleave)="onDragLeave($event)"
                 (drop)="onFileDrop($event)"
                 (click)="triggerFileInput()">
                <div class="drop-content">
                    <i class="paperclip-icon">ðŸ“Ž</i>
                    <p class="drop-text">{{ 'doctor.dragFile' | translate }}</p>
                </div>
                <input type="file" 
                       accept="image/*" 
                       (change)="onFileSelected($event)" 
                       #fileInput
                       class="file-input" />
            </div>
            <div *ngIf="form.get('imageUrl')?.invalid && form.get('imageUrl')?.touched" class="error-message">
                La foto es requerida
            </div>

            <!-- Vista previa -->
            <div *ngIf="form.get('imageUrl')?.value" class="preview">
                <p class="preview-title">{{ 'doctor.preview' | translate }}</p>
                <img [src]="form.get('imageUrl')?.value" alt="Foto del doctor" class="preview-image" />
            </div>
        </div>

        <!-- Botones -->
        <div class="form-actions">
            <button type="submit" 
                    [disabled]="form.invalid" 
                    class="save-btn">
                {{ 'doctor.save' | translate }}
            </button>
            <button type="button" 
                    (click)="onCancel()" 
                    class="cancel-btn">
                {{ 'doctor.cancel' | translate }}
            </button>
        </div>
    </form>
</div>
